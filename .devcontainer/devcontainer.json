{
      "image": "mcr.microsoft.com/devcontainers/dotnet:9.0",
      "runArgs": [
        "--device=/dev/net/tun",
        "--device=/dev/gpiomem0:/dev/gpiomem0",
        "--device=/dev/i2c-1:/dev/i2c-1"
      ],
      "privileged": true,
      "features": {
        "ghcr.io/tailscale/codespace/tailscale": {}
      },
      "customizations": {
        "vscode": {
          "extensions": [
            "ms-dotnettools.csdevkit",
            "ms-dotnettools.vscode-dotnet-runtime",
            "GitHub.remotehub",
            "GitHub.vscode-pull-request-github",
            "ms-vsliveshare.vsliveshare",
            "GitHub.vscode-github-actions"
          ]
        }
      },
      "forwardPorts": [
        5136,
        7151
      ],
      "mounts": [
        {
          "type": "volume",
          "source": "x509stores",
          "target": "/home/vscode/.dotnet/corefx/cryptography/x509stores"
        },
        {
          "type": "bind",
          "target": "/proc/device-tree/model",
          "source": "/proc/device-tree/model"
        }
      ],
      "onCreateCommand": "bash .devcontainer/setup-dotnet-dev-cert.sh",
      "postCreateCommand": "sudo apt update && sudo apt install -y libgpiod-dev i2c-tools && sudo usermod -aG i2c vscode"
    }